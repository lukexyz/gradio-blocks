"use strict";(("undefined"!=typeof window?window:this).__LOADABLE_LOADED_CHUNKS__=("undefined"!=typeof window?window:this).__LOADABLE_LOADED_CHUNKS__||[]).push([[7694],{86778:(e,t,r)=>{r.d(t,{f:()=>p});var i=r(70655),o=r(69316),s=r(49945),n=r(47037),a=r(49379),u=r(72198),c=r(39530),l=r(86060),h=r(14012),f=!1,p=function(){function e(e){var t=this;this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var r=e.uri,i=e.credentials,n=e.headers,h=e.cache,p=e.ssrMode,d=void 0!==p&&p,y=e.ssrForceFetchDelay,v=void 0===y?0:y,b=e.connectToDevTools,m=void 0===b?"object"==typeof window&&!window.__APOLLO_CLIENT__&&__DEV__:b,g=e.queryDeduplication,_=void 0===g||g,w=e.defaultOptions,q=e.assumeImmutableResults,Q=void 0!==q&&q,k=e.resolvers,O=e.typeDefs,D=e.fragmentMatcher,P=e.name,S=e.version,I=e.link;if(I||(I=r?new u.u({uri:r,credentials:i,headers:n}):s.i.empty()),!h)throw __DEV__?new o.ej("To initialize Apollo Client, you must specify a 'cache' property in the options object. \nFor more information, please visit: https://go.apollo.dev/c/docs"):new o.ej(9);if(this.link=I,this.cache=h,this.disableNetworkFetches=d||v>0,this.queryDeduplication=_,this.defaultOptions=w||Object.create(null),this.typeDefs=O,v&&setTimeout((function(){return t.disableNetworkFetches=!1}),v),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),m&&"object"==typeof window&&(window.__APOLLO_CLIENT__=this),!f&&m&&__DEV__&&(f=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var E=window.navigator,R=E&&E.userAgent,M=void 0;"string"==typeof R&&(R.indexOf("Chrome/")>-1?M="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":R.indexOf("Firefox/")>-1&&(M="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),M&&__DEV__&&o.kG.log("Download the Apollo DevTools for a better development experience: "+M)}this.version=a.i,this.localState=new l.Z({cache:h,client:this,resolvers:k,fragmentMatcher:D}),this.queryManager=new c.c({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,queryDeduplication:_,ssrMode:d,clientAwareness:{name:P,version:S},localState:this.localState,assumeImmutableResults:Q,onBroadcast:m?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=(0,h.J)(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=(0,i.__assign)((0,i.__assign)({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=(0,h.J)(this.defaultOptions.query,e)),__DEV__?(0,o.kG)("cache-and-network"!==e.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):(0,o.kG)("cache-and-network"!==e.fetchPolicy,10),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=(0,i.__assign)((0,i.__assign)({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=(0,h.J)(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){this.cache.writeQuery(e),this.queryManager.broadcastQueries()},e.prototype.writeFragment=function(e){this.cache.writeFragment(e),this.queryManager.broadcastQueries()},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return(0,n.h)(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!1})})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!0})})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),r=[],i=[];t.forEach((function(e,t){r.push(t),i.push(e)}));var s=Promise.all(i);return s.queries=r,s.results=i,s.catch((function(e){__DEV__&&o.kG.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(e))})),s},e.prototype.getObservableQueries=function(e){return void 0===e&&(e="active"),this.queryManager.getObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},e}()},86060:(e,t,r)=>{r.d(t,{Z:()=>p});var i=r(70655),o=r(69316),s=r(77304),n=r(182),a=r(19065),u=r(76487),c=r(36765),l=r(23361),h=r(51761),f=r(66438),p=function(){function e(e){var t=e.cache,r=e.client,i=e.resolvers,o=e.fragmentMatcher;this.cache=t,r&&(this.client=r),i&&this.addResolvers(i),o&&this.setFragmentMatcher(o)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=(0,n.Ee)(t.resolvers,e)})):this.resolvers=(0,n.Ee)(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,r=e.remoteResult,o=e.context,s=e.variables,n=e.onlyRunForcedResolvers,a=void 0!==n&&n;return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){return t?[2,this.resolveDocument(t,r.data,o,s,this.fragmentMatcher,a).then((function(e){return(0,i.__assign)((0,i.__assign)({},r),{data:e.result})}))]:[2,r]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return(0,a.FS)(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return(0,u.ob)(e)},e.prototype.prepareContext=function(e){var t=this.cache;return(0,i.__assign)((0,i.__assign)({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r={}),(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(o){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(r),t).then((function(e){return(0,i.__assign)((0,i.__assign)({},t),e.exportedVariables)}))]:[2,(0,i.__assign)({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return(0,s.Vn)(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return s.$_}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:(0,u.aL)(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,r,o,s,n){return void 0===r&&(r={}),void 0===o&&(o={}),void 0===s&&(s=function(){return!0}),void 0===n&&(n=!1),(0,i.__awaiter)(this,void 0,void 0,(function(){var a,u,h,f,p,d,y,v,b;return(0,i.__generator)(this,(function(m){return a=(0,c.p$)(e),u=(0,c.kU)(e),h=(0,l.F)(u),f=a.operation,p=f?f.charAt(0).toUpperCase()+f.slice(1):"Query",y=(d=this).cache,v=d.client,b={fragmentMap:h,context:(0,i.__assign)((0,i.__assign)({},r),{cache:y,client:v}),variables:o,fragmentMatcher:s,defaultOperationType:p,exportedVariables:{},onlyRunForcedResolvers:n},[2,this.resolveSelectionSet(a.selectionSet,t,b).then((function(e){return{result:e,exportedVariables:b.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,r){return(0,i.__awaiter)(this,void 0,void 0,(function(){var s,u,c,l,f,p=this;return(0,i.__generator)(this,(function(d){return s=r.fragmentMap,u=r.context,c=r.variables,l=[t],f=function(e){return(0,i.__awaiter)(p,void 0,void 0,(function(){var n,f;return(0,i.__generator)(this,(function(i){return(0,a.LZ)(e,c)?(0,h.My)(e)?[2,this.resolveField(e,t,r).then((function(t){var r;void 0!==t&&l.push(((r={})[(0,h.u2)(e)]=t,r))}))]:((0,h.Ao)(e)?n=e:(n=s[e.name.value],__DEV__?(0,o.kG)(n,"No fragment named ".concat(e.name.value)):(0,o.kG)(n,11)),n&&n.typeCondition&&(f=n.typeCondition.name.value,r.fragmentMatcher(t,f,u))?[2,this.resolveSelectionSet(n.selectionSet,t,r).then((function(e){l.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(f)).then((function(){return(0,n.bw)(l)}))]}))}))},e.prototype.resolveField=function(e,t,r){return(0,i.__awaiter)(this,void 0,void 0,(function(){var o,s,n,a,u,c,l,p,d,y=this;return(0,i.__generator)(this,(function(i){return o=r.variables,s=e.name.value,n=(0,h.u2)(e),a=s!==n,u=t[n]||t[s],c=Promise.resolve(u),r.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(l=t.__typename||r.defaultOperationType,(p=this.resolvers&&this.resolvers[l])&&(d=p[a?s:n])&&(c=Promise.resolve(f.ab.withValue(this.cache,d,[t,(0,h.NC)(e,o),r.context,{field:e,fragmentMap:r.fragmentMap}])))),[2,c.then((function(t){return void 0===t&&(t=u),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(r.exportedVariables[e.value.value]=t)}))})),e.selectionSet?null==t?t:Array.isArray(t)?y.resolveSubSelectedArray(e,t,r):e.selectionSet?y.resolveSelectionSet(e.selectionSet,t,r):void 0:t}))]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,r){var i=this;return Promise.all(t.map((function(t){return null===t?null:Array.isArray(t)?i.resolveSubSelectedArray(e,t,r):e.selectionSet?i.resolveSelectionSet(e.selectionSet,t,r):void 0})))},e}()},44780:(e,t,r)=>{r.d(t,{DC:()=>g,ue:()=>v,vj:()=>b});var i=r(70655),o=r(69316),s=r(82152),n=r(1644),a=r(36765),u=r(79487),c=r(21436),l=r(53712),h=r(18263),f=r(48216),p=r(86403),d=Object.assign,y=Object.hasOwnProperty,v=function(e){function t(t){var r=t.queryManager,o=t.queryInfo,s=t.options,n=e.call(this,(function(e){try{var t=e._subscription._observer;t&&!t.error&&(t.error=m)}catch(e){}var r=!n.observers.size;n.observers.add(e);var i=n.last;return i&&i.error?e.error&&e.error(i.error):i&&i.result&&e.next&&e.next(i.result),r&&n.reobserve().catch((function(){})),function(){n.observers.delete(e)&&!n.observers.size&&n.tearDownQuery()}}))||this;n.observers=new Set,n.subscriptions=new Set,n.queryInfo=o,n.queryManager=r,n.isTornDown=!1;var u=r.defaultOptions.watchQuery,c=(void 0===u?{}:u).fetchPolicy,l=void 0===c?"cache-first":c,h=s.fetchPolicy,f=void 0===h?l:h,p=s.initialFetchPolicy,d=void 0===p?"standby"===f?l:f:p;n.options=(0,i.__assign)((0,i.__assign)({},s),{initialFetchPolicy:d,fetchPolicy:f}),n.queryId=o.queryId||r.generateQueryId();var y=(0,a.$H)(n.query);return n.queryName=y&&y.name&&y.name.value,n}return(0,i.__extends)(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return this.queryManager.transform(this.options.query).document},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise((function(t,r){var i={next:function(r){t(r),e.observers.delete(i),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){o.unsubscribe()}),0)},error:r},o=e.subscribe(i)}))},t.prototype.getCurrentResult=function(e){void 0===e&&(e=!0);var t=this.getLastResult(!0),r=this.queryInfo.networkStatus||t&&t.networkStatus||n.I.ready,o=(0,i.__assign)((0,i.__assign)({},t),{loading:(0,n.O)(r),networkStatus:r}),a=this.options.fetchPolicy,u=void 0===a?"cache-first":a;if("network-only"===u||"no-cache"===u||"standby"===u||this.queryManager.transform(this.options.query).hasForcedResolvers);else{var c=this.queryInfo.getDiff();(c.complete||this.options.returnPartialData)&&(o.data=c.result),(0,s.D)(o.data,{})&&(o.data=void 0),c.complete?(delete o.partial,!c.complete||o.networkStatus!==n.I.loading||"cache-first"!==u&&"cache-only"!==u||(o.networkStatus=n.I.ready,o.loading=!1)):o.partial=!0,!__DEV__||c.complete||this.options.partialRefetch||o.loading||o.data||o.error||g(c.missing)}return e&&this.updateLastResult(o),o},t.prototype.isDifferentFromLastResult=function(e,t){return!this.last||!(0,s.D)(this.last.result,e)||t&&!(0,s.D)(this.last.variables,t)},t.prototype.getLast=function(e,t){var r=this.last;if(r&&r[e]&&(!t||(0,s.D)(r.variables,this.variables)))return r[e]},t.prototype.getLastResult=function(e){return this.getLast("result",e)},t.prototype.getLastError=function(e){return this.getLast("error",e)},t.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t,r={pollInterval:0},u=this.options.fetchPolicy;if(r.fetchPolicy="cache-and-network"===u?u:"no-cache"===u?"no-cache":"network-only",__DEV__&&e&&y.call(e,"variables")){var c=(0,a.iW)(this.query),l=c.variableDefinitions;l&&l.some((function(e){return"variables"===e.variable.name.value}))||__DEV__&&o.kG.warn("Called refetch(".concat(JSON.stringify(e),") for query ").concat((null===(t=c.name)||void 0===t?void 0:t.value)||JSON.stringify(c),", which does not declare a $variables variable.\nDid you mean to call refetch(variables) instead of refetch({ variables })?"))}return e&&!(0,s.D)(this.options.variables,e)&&(r.variables=this.options.variables=(0,i.__assign)((0,i.__assign)({},this.options.variables),e)),this.queryInfo.resetLastWrite(),this.reobserve(r,n.I.refetch)},t.prototype.fetchMore=function(e){var t=this,r=(0,i.__assign)((0,i.__assign)({},e.query?e:(0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)({},this.options),{query:this.query}),e),{variables:(0,i.__assign)((0,i.__assign)({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"}),o=this.queryManager.generateQueryId(),s=this.queryInfo,a=s.networkStatus;s.networkStatus=n.I.fetchMore,r.notifyOnNetworkStatusChange&&this.observe();var u=new Set;return this.queryManager.fetchQuery(o,r,n.I.fetchMore).then((function(i){return t.queryManager.removeQuery(o),s.networkStatus===n.I.fetchMore&&(s.networkStatus=a),t.queryManager.cache.batch({update:function(o){var s=e.updateQuery;s?o.updateQuery({query:t.query,variables:t.variables,returnPartialData:!0,optimistic:!1},(function(e){return s(e,{fetchMoreResult:i.data,variables:r.variables})})):o.writeQuery({query:r.query,variables:r.variables,data:i.data})},onWatchUpdated:function(e){u.add(e.query)}}),i})).finally((function(){u.has(t.query)||b(t)}))},t.prototype.subscribeToMore=function(e){var t=this,r=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(r){var i=e.updateQuery;i&&t.updateQuery((function(e,t){var o=t.variables;return i(e,{subscriptionData:r,variables:o})}))},error:function(t){e.onError?e.onError(t):__DEV__&&o.kG.error("Unhandled GraphQL subscription error",t)}});return this.subscriptions.add(r),function(){t.subscriptions.delete(r)&&r.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.setVariables=function(e){return(0,s.D)(this.variables,e)?this.observers.size?this.result():Promise.resolve():(this.options.variables=e,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:e},n.I.setVariables):Promise.resolve())},t.prototype.updateQuery=function(e){var t=this.queryManager,r=e(t.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});r&&(t.cache.writeQuery({query:this.options.query,data:r,variables:this.variables}),t.broadcastQueries())},t.prototype.startPolling=function(e){this.options.pollInterval=e,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.applyNextFetchPolicy=function(e,t){if(t.nextFetchPolicy){var r=t.fetchPolicy,i=void 0===r?"cache-first":r,o=t.initialFetchPolicy,s=void 0===o?i:o;"standby"===i||("function"==typeof t.nextFetchPolicy?t.fetchPolicy=t.nextFetchPolicy(i,{reason:e,options:t,observable:this,initialFetchPolicy:s}):t.fetchPolicy="variables-changed"===e?s:t.nextFetchPolicy)}return t.fetchPolicy},t.prototype.fetch=function(e,t){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,e,t)},t.prototype.updatePolling=function(){var e=this;if(!this.queryManager.ssrMode){var t=this.pollingInfo,r=this.options.pollInterval;if(r){if(!t||t.interval!==r){__DEV__?(0,o.kG)(r,"Attempted to start a polling query without a polling interval."):(0,o.kG)(r,12),(t||(this.pollingInfo={})).interval=r;var i=function(){e.pollingInfo&&((0,n.O)(e.queryInfo.networkStatus)?s():e.reobserve({fetchPolicy:"no-cache"===e.options.initialFetchPolicy?"no-cache":"network-only"},n.I.poll).then(s,s))},s=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(i,t.interval))};s()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)}},t.prototype.updateLastResult=function(e,t){return void 0===t&&(t=this.variables),this.last=(0,i.__assign)((0,i.__assign)({},this.last),{result:this.queryManager.assumeImmutableResults?e:(0,u.X)(e),variables:t}),(0,c.O)(e.errors)||delete this.last.error,this.last},t.prototype.reobserve=function(e,t){var r=this;this.isTornDown=!1;var o=t===n.I.refetch||t===n.I.fetchMore||t===n.I.poll,a=this.options.variables,u=this.options.fetchPolicy,c=(0,l.o)(this.options,e||{}),h=o?c:d(this.options,c);o||(this.updatePolling(),e&&e.variables&&!(0,s.D)(e.variables,a)&&"standby"!==h.fetchPolicy&&h.fetchPolicy===u&&(this.applyNextFetchPolicy("variables-changed",h),void 0===t&&(t=n.I.setVariables)));var f=h.variables&&(0,i.__assign)({},h.variables),p=this.fetch(h,t),y={next:function(e){r.reportResult(e,f)},error:function(e){r.reportError(e,f)}};return o||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=p,this.observer=y),p.addObserver(y),p.promise},t.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},t.prototype.reportResult=function(e,t){var r=this.getLastError();(r||this.isDifferentFromLastResult(e,t))&&((r||!e.partial||this.options.returnPartialData)&&this.updateLastResult(e,t),(0,h.p)(this.observers,"next",e))},t.prototype.reportError=function(e,t){var r=(0,i.__assign)((0,i.__assign)({},this.getLastResult()),{error:e,errors:e.graphQLErrors,networkStatus:n.I.error,loading:!1});this.updateLastResult(r,t),(0,h.p)(this.observers,"error",this.last.error=e)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t}(f.y);function b(e){var t=e.options,r=t.fetchPolicy,i=t.nextFetchPolicy;return"cache-and-network"===r||"network-only"===r?e.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=i,"function"==typeof i?i.apply(this,arguments):r}}):e.reobserve()}function m(e){__DEV__&&o.kG.error("Unhandled error",e.message,e.stack)}function g(e){__DEV__&&e&&__DEV__&&o.kG.debug("Missing cache result fields: ".concat(JSON.stringify(e)),e)}(0,p.D)(v)},20768:(e,t,r)=>{r.d(t,{c:()=>v,e:()=>y});var i=r(70655),o=r(82152),s=r(182),n=r(37280),a=r(44780),u=r(30320),c=r(21436),l=r(69383),h=r(1644),f=new(u.mr?WeakMap:Map);function p(e,t){var r=e[t];"function"==typeof r&&(e[t]=function(){return f.set(e,(f.get(e)+1)%1e15),r.apply(this,arguments)})}function d(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var y=function(){function e(e,t){void 0===t&&(t=e.generateQueryId()),this.queryId=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var r=this.cache=e.cache;f.has(r)||(f.set(r,0),p(r,"evict"),p(r,"modify"),p(r,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||h.I.loading;return this.variables&&this.networkStatus!==h.I.loading&&!(0,o.D)(this.variables,e.variables)&&(t=h.I.setVariables),(0,o.D)(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.reset=function(){d(this),this.dirty=!1},e.prototype.getDiff=function(e){void 0===e&&(e=this.variables);var t=this.getDiffOptions(e);if(this.lastDiff&&(0,o.D)(t,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=e);var r=this.observableQuery;if(r&&"no-cache"===r.options.fetchPolicy)return{complete:!1};var i=this.cache.diff(t);return this.updateLastDiff(i,t),i},e.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(e){var t;return void 0===e&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:null===(t=this.observableQuery)||void 0===t?void 0:t.options.canonizeResults}},e.prototype.setDiff=function(e){var t=this,r=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),this.dirty||(0,o.D)(r&&r.result,e&&e.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return t.notify()}),0)))},e.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():(0,a.vj)(e)})):delete this.oqListener)},e.prototype.notify=function(){var e=this;d(this),this.shouldNotify()&&this.listeners.forEach((function(t){return t(e)})),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if((0,h.O)(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=e.prototype.cancel,this.subscriptions.forEach((function(e){return e.unsubscribe()}));var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var r=this.observableQuery;if(!r||"no-cache"!==r.options.fetchPolicy){var s=(0,i.__assign)((0,i.__assign)({},this.getDiffOptions(e)),{watcher:this,callback:function(e){return t.setDiff(e)}});this.lastWatch&&(0,o.D)(s,this.lastWatch)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=s))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(e,t){var r=this.lastWrite;return!(r&&r.dmCount===f.get(this.cache)&&(0,o.D)(t,r.variables)&&(0,o.D)(e.data,r.result.data))},e.prototype.markResult=function(e,t,r,i){var o=this,a=new s.w0,u=(0,c.O)(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&(0,c.O)(e.incremental)){var l=(0,n.mT)(this.getDiff().result,e);e.data=l}else if("hasNext"in e&&e.hasNext){var h=this.getDiff();e.data=a.merge(h.result,e.data)}this.graphQLErrors=u,"no-cache"===r.fetchPolicy?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(r.variables)):0!==i&&(v(e,r.errorPolicy)?this.cache.performTransaction((function(s){if(o.shouldWrite(e,r.variables))s.writeQuery({query:t,data:e.data,variables:r.variables,overwrite:1===i}),o.lastWrite={result:e,variables:r.variables,dmCount:f.get(o.cache)};else if(o.lastDiff&&o.lastDiff.diff.complete)return void(e.data=o.lastDiff.diff.result);var n=o.getDiffOptions(r.variables),a=s.diff(n);o.stopped||o.updateWatch(r.variables),o.updateLastDiff(a,n),a.complete&&(e.data=a.result)})):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=h.I.ready},e.prototype.markError=function(e){return this.networkStatus=h.I.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function v(e,t){void 0===t&&(t="none");var r="ignore"===t||"all"===t,i=!(0,l.d)(e);return!i&&r&&e.data&&(i=!0),i}},39530:(e,t,r)=>{r.d(t,{c:()=>P});var i=r(70655),o=r(69316),s=r(82152),n=r(47037),a=r(37280),u=r(80900),c=r(30320),l=r(46951),h=r(69383),f=r(21436),p=r(36765),d=r(76487),y=r(19065),v=r(51761),b=r(13154),m=r(60897),g=r(48216),_=r(55687),w=r(30990),q=r(44780),Q=r(1644),k=r(86060),O=r(20768),D=Object.prototype.hasOwnProperty,P=function(){function e(e){var t=e.cache,r=e.link,i=e.defaultOptions,o=e.queryDeduplication,s=void 0!==o&&o,n=e.onBroadcast,a=e.ssrMode,u=void 0!==a&&a,l=e.clientAwareness,h=void 0===l?{}:l,f=e.localState,p=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(c.mr?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=t,this.link=r,this.defaultOptions=i||Object.create(null),this.queryDeduplication=s,this.clientAwareness=h,this.localState=f||new k.Z({cache:t}),this.ssrMode=u,this.assumeImmutableResults=!!p,(this.onBroadcast=n)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,r){e.stopQueryNoBroadcast(r)})),this.cancelPendingFetches(__DEV__?new o.ej("QueryManager stopped while query was in flight"):new o.ej(13))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){var t,r,s=e.mutation,n=e.variables,a=e.optimisticResponse,u=e.updateQueries,c=e.refetchQueries,f=void 0===c?[]:c,p=e.awaitRefetchQueries,d=void 0!==p&&p,y=e.update,v=e.onQueryUpdated,b=e.fetchPolicy,m=void 0===b?(null===(t=this.defaultOptions.mutate)||void 0===t?void 0:t.fetchPolicy)||"network-only":b,g=e.errorPolicy,_=void 0===g?(null===(r=this.defaultOptions.mutate)||void 0===r?void 0:r.errorPolicy)||"none":g,q=e.keepRootFields,Q=e.context;return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,t,r,c,p,b;return(0,i.__generator)(this,(function(g){switch(g.label){case 0:return __DEV__?(0,o.kG)(s,"mutation option is required. You must specify your GraphQL document in the mutation option."):(0,o.kG)(s,14),__DEV__?(0,o.kG)("network-only"===m||"no-cache"===m,"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):(0,o.kG)("network-only"===m||"no-cache"===m,15),e=this.generateMutationId(),t=this.transform(s),r=t.document,c=t.hasClientExports,s=this.cache.transformForLink(r),n=this.getVariables(s,n),c?[4,this.localState.addExportedVariables(s,n,Q)]:[3,2];case 1:n=g.sent(),g.label=2;case 2:return p=this.mutationStore&&(this.mutationStore[e]={mutation:s,variables:n,loading:!0,error:null}),a&&this.markMutationOptimistic(a,{mutationId:e,document:s,variables:n,fetchPolicy:m,errorPolicy:_,context:Q,updateQueries:u,update:y,keepRootFields:q}),this.broadcastQueries(),b=this,[2,new Promise((function(t,r){return(0,l.s)(b.getObservableFromLink(s,(0,i.__assign)((0,i.__assign)({},Q),{optimisticResponse:a}),n,!1),(function(t){if((0,h.d)(t)&&"none"===_)throw new w.c({graphQLErrors:(0,h.K)(t)});p&&(p.loading=!1,p.error=null);var r=(0,i.__assign)({},t);return"function"==typeof f&&(f=f(r)),"ignore"===_&&(0,h.d)(r)&&delete r.errors,b.markMutationResult({mutationId:e,result:r,document:s,variables:n,fetchPolicy:m,errorPolicy:_,context:Q,update:y,updateQueries:u,awaitRefetchQueries:d,refetchQueries:f,removeOptimistic:a?e:void 0,onQueryUpdated:v,keepRootFields:q})})).subscribe({next:function(e){b.broadcastQueries(),"hasNext"in e&&!1!==e.hasNext||t(e)},error:function(t){p&&(p.loading=!1,p.error=t),a&&b.cache.removeOptimistic(e),b.broadcastQueries(),r(t instanceof w.c?t:new w.c({networkError:t}))}})}))]}}))}))},e.prototype.markMutationResult=function(e,t){var r=this;void 0===t&&(t=this.cache);var o=e.result,s=[],n="no-cache"===e.fetchPolicy;if(!n&&(0,O.c)(o,e.errorPolicy)){if((0,a.GG)(o)||s.push({result:o.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),(0,a.GG)(o)&&(0,f.O)(o.incremental)){var u=t.diff({id:"ROOT_MUTATION",query:this.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),c=(0,a.mT)(u.result,o);void 0!==c&&(o.data=c,s.push({result:c,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var l=e.updateQueries;l&&this.queries.forEach((function(e,i){var n=e.observableQuery,a=n&&n.queryName;if(a&&D.call(l,a)){var u=l[a],c=r.queries.get(i),h=c.document,f=c.variables,d=t.diff({query:h,variables:f,returnPartialData:!0,optimistic:!1}),y=d.result;if(d.complete&&y){var v=u(y,{mutationResult:o,queryName:h&&(0,p.rY)(h)||void 0,queryVariables:f});v&&s.push({result:v,dataId:"ROOT_QUERY",query:h,variables:f})}}}))}if(s.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var h=[];if(this.refetchQueries({updateCache:function(t){n||s.forEach((function(e){return t.write(e)}));var u=e.update,c=!(0,a.M0)(o)||(0,a.GG)(o)&&!o.hasNext;if(u){if(!n){var l=t.diff({id:"ROOT_MUTATION",query:r.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});l.complete&&("incremental"in(o=(0,i.__assign)((0,i.__assign)({},o),{data:l.result}))&&delete o.incremental,"hasNext"in o&&delete o.hasNext)}c&&u(t,o,{context:e.context,variables:e.variables})}n||e.keepRootFields||!c||t.modify({id:"ROOT_MUTATION",fields:function(e,t){var r=t.fieldName,i=t.DELETE;return"__typename"===r?e:i}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach((function(e){return h.push(e)})),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(h).then((function(){return o}))}return Promise.resolve(o)},e.prototype.markMutationOptimistic=function(e,t){var r=this,s="function"==typeof e?e(t.variables):e;return this.cache.recordOptimisticTransaction((function(e){try{r.markMutationResult((0,i.__assign)((0,i.__assign)({},t),{result:{data:s}}),e)}catch(e){__DEV__&&o.kG.error(e)}}),t.mutationId)},e.prototype.fetchQuery=function(e,t,r){return this.fetchQueryObservable(e,t,r).promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,r){e[r]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){var t=this.transformCache;if(!t.has(e)){var r=this.cache.transformDocument(e),o=(0,d.Fo)(r),s=this.localState.clientQuery(r),n=o&&this.localState.serverQuery(o),a={document:r,hasClientExports:(0,y.mj)(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:s,serverQuery:n,defaultVars:(0,p.O4)((0,p.$H)(r)),asQuery:(0,i.__assign)((0,i.__assign)({},r),{definitions:r.definitions.map((function(e){return"OperationDefinition"===e.kind&&"query"!==e.operation?(0,i.__assign)((0,i.__assign)({},e),{operation:"query"}):e}))})},u=function(e){e&&!t.has(e)&&t.set(e,a)};u(e),u(r),u(s),u(n)}return t.get(e)},e.prototype.getVariables=function(e,t){return(0,i.__assign)((0,i.__assign)({},this.transform(e).defaultVars),t)},e.prototype.watchQuery=function(e){void 0===(e=(0,i.__assign)((0,i.__assign)({},e),{variables:this.getVariables(e.query,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var t=new O.e(this),r=new q.ue({queryManager:this,queryInfo:t,options:e});return this.queries.set(r.queryId,t),t.init({document:r.query,observableQuery:r,variables:r.variables}),r},e.prototype.query=function(e,t){var r=this;return void 0===t&&(t=this.generateQueryId()),__DEV__?(0,o.kG)(e.query,"query option is required. You must specify your GraphQL document in the query option."):(0,o.kG)(e.query,16),__DEV__?(0,o.kG)("Document"===e.query.kind,'You must wrap the query string in a "gql" tag.'):(0,o.kG)("Document"===e.query.kind,17),__DEV__?(0,o.kG)(!e.returnPartialData,"returnPartialData option only supported on watchQuery."):(0,o.kG)(!e.returnPartialData,18),__DEV__?(0,o.kG)(!e.pollInterval,"pollInterval option only supported on watchQuery."):(0,o.kG)(!e.pollInterval,19),this.fetchQuery(t,e).finally((function(){return r.stopQuery(t)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(e){return void 0===e&&(e={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new o.ej("Store reset while query was in flight (not completed in link chain)"):new o.ej(20)),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=Q.I.loading:e.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},e.prototype.getObservableQueries=function(e){var t=this;void 0===e&&(e="active");var r=new Map,s=new Map,n=new Set;return Array.isArray(e)&&e.forEach((function(e){"string"==typeof e?s.set(e,!1):(0,v.JW)(e)?s.set(t.transform(e).document,!1):(0,b.s)(e)&&e.query&&n.add(e)})),this.queries.forEach((function(t,i){var o=t.observableQuery,n=t.document;if(o){if("all"===e)return void r.set(i,o);var a=o.queryName;if("standby"===o.options.fetchPolicy||"active"===e&&!o.hasObservers())return;("active"===e||a&&s.has(a)||n&&s.has(n))&&(r.set(i,o),a&&s.set(a,!0),n&&s.set(n,!0))}})),n.size&&n.forEach((function(e){var s=(0,m.X)("legacyOneTimeQuery"),n=t.getQuery(s).init({document:e.query,variables:e.variables}),a=new q.ue({queryManager:t,queryInfo:n,options:(0,i.__assign)((0,i.__assign)({},e),{fetchPolicy:"network-only"})});(0,o.kG)(a.queryId===s),n.setObservableQuery(a),r.set(s,a)})),__DEV__&&s.size&&s.forEach((function(e,t){e||__DEV__&&o.kG.warn("Unknown query ".concat("string"==typeof t?"named ":"").concat(JSON.stringify(t,null,2)," requested in refetchQueries options.include array"))})),r},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var r=[];return this.getObservableQueries(e?"all":"active").forEach((function(i,o){var s=i.options.fetchPolicy;i.resetLastResults(),(e||"standby"!==s&&"cache-only"!==s)&&r.push(i.refetch()),t.getQuery(o).setDiff(null)})),this.broadcastQueries(),Promise.all(r)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){var t=this,r=e.query,i=e.fetchPolicy,o=e.errorPolicy,s=e.variables,n=e.context,a=void 0===n?{}:n;r=this.transform(r).document,s=this.getVariables(r,s);var u=function(e){return t.getObservableFromLink(r,a,e).map((function(s){if("no-cache"!==i&&((0,O.c)(s,o)&&t.cache.write({query:r,result:s.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries()),(0,h.d)(s))throw new w.c({graphQLErrors:s.errors});return s}))};if(this.transform(r).hasClientExports){var c=this.localState.addExportedVariables(r,s,a).then(u);return new g.y((function(e){var t=null;return c.then((function(r){return t=r.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return u(s)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(e){return e.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,r,o){var s,a,c=this;void 0===o&&(o=null!==(s=null==t?void 0:t.queryDeduplication)&&void 0!==s?s:this.queryDeduplication);var h=this.transform(e).serverQuery;if(h){var f=this.inFlightLinkObservables,d=this.link,y={query:h,variables:r,operationName:(0,p.rY)(h)||void 0,context:this.prepareContext((0,i.__assign)((0,i.__assign)({},t),{forceFetch:!o}))};if(t=y.context,o){var v=f.get(h)||new Map;f.set(h,v);var b=(0,u.B)(r);if(!(a=v.get(b))){var m=new _.X([(0,n.h)(d,y)]);v.set(b,a=m),m.beforeNext((function(){v.delete(b)&&v.size<1&&f.delete(h)}))}}else a=new _.X([(0,n.h)(d,y)])}else a=new _.X([g.y.of({data:{}})]),t=this.prepareContext(t);var w=this.transform(e).clientQuery;return w&&(a=(0,l.s)(a,(function(e){return c.localState.runResolvers({document:w,remoteResult:e,context:t,variables:r})}))),a},e.prototype.getResultsFromLink=function(e,t,r){var i=e.lastRequestId=this.generateRequestId(),o=this.cache.transformForLink(this.transform(e.document).document);return(0,l.s)(this.getObservableFromLink(o,r.context,r.variables),(function(s){var n=(0,h.K)(s),a=n.length>0;if(i>=e.lastRequestId){if(a&&"none"===r.errorPolicy)throw e.markError(new w.c({graphQLErrors:n}));e.markResult(s,o,r,t),e.markReady()}var u={data:s.data,loading:!1,networkStatus:Q.I.ready};return a&&"ignore"!==r.errorPolicy&&(u.errors=n,u.networkStatus=Q.I.error),u}),(function(t){var r=(0,w.M)(t)?t:new w.c({networkError:t});throw i>=e.lastRequestId&&e.markError(r),r}))},e.prototype.fetchQueryObservable=function(e,t,r){var i=this;void 0===r&&(r=Q.I.loading);var o=this.transform(t.query).document,s=this.getVariables(o,t.variables),n=this.getQuery(e),a=this.defaultOptions.watchQuery,u=t.fetchPolicy,c=void 0===u?a&&a.fetchPolicy||"cache-first":u,l=t.errorPolicy,h=void 0===l?a&&a.errorPolicy||"none":l,f=t.returnPartialData,p=void 0!==f&&f,d=t.notifyOnNetworkStatusChange,y=void 0!==d&&d,v=t.context,b=void 0===v?{}:v,m=Object.assign({},t,{query:o,variables:s,fetchPolicy:c,errorPolicy:h,returnPartialData:p,notifyOnNetworkStatusChange:y,context:b}),g=function(e){m.variables=e;var o=i.fetchQueryByPolicy(n,m,r);return"standby"!==m.fetchPolicy&&o.length>0&&n.observableQuery&&n.observableQuery.applyNextFetchPolicy("after-fetch",t),o},w=function(){return i.fetchCancelFns.delete(e)};this.fetchCancelFns.set(e,(function(e){w(),setTimeout((function(){return q.cancel(e)}))}));var q=new _.X(this.transform(m.query).hasClientExports?this.localState.addExportedVariables(m.query,m.variables,m.context).then(g):g(m.variables));return q.promise.then(w,w),q},e.prototype.refetchQueries=function(e){var t=this,r=e.updateCache,i=e.include,o=e.optimistic,s=void 0!==o&&o,n=e.removeOptimistic,a=void 0===n?s?(0,m.X)("refetchQueries"):void 0:n,u=e.onQueryUpdated,c=new Map;i&&this.getObservableQueries(i).forEach((function(e,r){c.set(r,{oq:e,lastDiff:t.getQuery(r).getDiff()})}));var l=new Map;return r&&this.cache.batch({update:r,optimistic:s&&a||!1,removeOptimistic:a,onWatchUpdated:function(e,t,r){var i=e.watcher instanceof O.e&&e.watcher.observableQuery;if(i){if(u){c.delete(i.queryId);var o=u(i,t,r);return!0===o&&(o=i.refetch()),!1!==o&&l.set(i,o),o}null!==u&&c.set(i.queryId,{oq:i,lastDiff:r,diff:t})}}}),c.size&&c.forEach((function(e,r){var i,o=e.oq,s=e.lastDiff,n=e.diff;if(u){if(!n){var a=o.queryInfo;a.reset(),n=a.getDiff()}i=u(o,n,s)}u&&!0!==i||(i=o.refetch()),!1!==i&&l.set(o,i),r.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(r)})),a&&this.cache.removeOptimistic(a),l},e.prototype.fetchQueryByPolicy=function(e,t,r){var o=this,n=t.query,a=t.variables,u=t.fetchPolicy,c=t.refetchWritePolicy,l=t.errorPolicy,h=t.returnPartialData,f=t.context,p=t.notifyOnNetworkStatusChange,d=e.networkStatus;e.init({document:this.transform(n).document,variables:a,networkStatus:r});var y=function(){return e.getDiff(a)},v=function(t,r){void 0===r&&(r=e.networkStatus||Q.I.loading);var u=t.result;!__DEV__||h||(0,s.D)(u,{})||(0,q.DC)(t.missing);var c=function(e){return g.y.of((0,i.__assign)({data:e,loading:(0,Q.O)(r),networkStatus:r},t.complete?null:{partial:!0}))};return u&&o.transform(n).hasForcedResolvers?o.localState.runResolvers({document:n,remoteResult:{data:u},context:f,variables:a,onlyRunForcedResolvers:!0}).then((function(e){return c(e.data||void 0)})):c(u)},b="no-cache"===u?0:r===Q.I.refetch&&"merge"!==c?1:2,m=function(){return o.getResultsFromLink(e,b,{variables:a,context:f,fetchPolicy:u,errorPolicy:l})},_=p&&"number"==typeof d&&d!==r&&(0,Q.O)(r);switch(u){default:case"cache-first":return(w=y()).complete?[v(w,e.markReady())]:h||_?[v(w),m()]:[m()];case"cache-and-network":var w;return(w=y()).complete||h||_?[v(w),m()]:[m()];case"cache-only":return[v(y(),e.markReady())];case"network-only":return _?[v(y()),m()]:[m()];case"no-cache":return _?[v(e.getDiff()),m()]:[m()];case"standby":return[]}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new O.e(this,e)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return(0,i.__assign)((0,i.__assign)({},t),{clientAwareness:this.clientAwareness})},e}()},1644:(e,t,r)=>{var i;function o(e){return!!e&&e<7}r.d(t,{I:()=>i,O:()=>o}),function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(i||(i={}))}}]);