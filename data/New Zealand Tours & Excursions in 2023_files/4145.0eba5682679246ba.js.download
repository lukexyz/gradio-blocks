"use strict";(("undefined"!=typeof window?window:this).__LOADABLE_LOADED_CHUNKS__=("undefined"!=typeof window?window:this).__LOADABLE_LOADED_CHUNKS__||[]).push([[4145],{33115:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(67294);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(this,arguments)}const i=e=>{let{styles:t={},...a}=e;return n.createElement("svg",r({width:"32",height:"32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),n.createElement("path",{clipRule:"evenodd",d:"M27.111 5.897L4.654 15.522l9.501 1.385a2.155 2.155 0 011.752 1.633l2.297 8.411 8.907-21.054zm-.217-2.083c1.449-.62 2.915.84 2.301 2.29l-9.43 22.291c-.648 1.53-2.863 1.382-3.3-.22l-2.494-9.133a.989.989 0 01-.014-.058c-.005-.027-.037-.082-.12-.103L3.488 17.373c-1.748-.255-2.06-2.644-.437-3.34L26.894 3.815z"}))}},39474:(e,t,a)=>{a.d(t,{_:()=>l}),a(33948);var n=a(67294),r=a(32553),i=a(49926);const l=e=>{const{children:t,for:a}=e,l=Object.entries((0,i.i)(a)).reduce(((e,t)=>{let[a,n]=t;return{...e,[a.toLowerCase()]:n}}),{});return n.createElement(r._G,{...l},t)}},67470:(e,t,a)=>{a.d(t,{x:()=>r});var n=a(17648);const r=e=>e===n.Yi.DESKTOP||e===n.Yi.TABLET},49926:(e,t,a)=>{a.d(t,{i:()=>r});var n=a(6188);const r=e=>{const t={xs:!1,sm:!1,md:!1,lg:!1,xl:!1},a=e=>{const a=n.a[e];a&&a.forEach((e=>{t[e]=!0}))};return Array.isArray(e)?e.forEach((e=>{a(e)})):a(e),t}},74894:(e,t,a)=>{a.d(t,{z:()=>l}),a(33948);var n=a(67294),r=a(32553),i=a(49926);const l=e=>{const{children:t,for:a}=e,l=Object.entries((0,i.i)(a)).reduce(((e,t)=>{let[a,n]=t;return{...e,[a.toLowerCase()]:n}}),{});return n.createElement(r.zv,{...l},t)}},32894:(e,t,a)=>{a.d(t,{S:()=>s});var n=a(9669),r=a.n(n),i=a(41349),l=a(61456);const s=e=>{var t,a;let n=e&&e.to||null;return e&&e.from&&!e.to&&(n=e.from),r().post(i.BJ.SET_SESSION_SEARCH_DATES,{startDate:null!==(t=(0,l.J)(null==e?void 0:e.from))&&void 0!==t?t:"",endDate:null!==(a=(0,l.J)(n))&&void 0!==a?a:""})}},51336:(e,t,a)=>{a.d(t,{j:()=>i});var n=a(91332),r=a(29534);const i=()=>{(0,n.m)().removeItem(r.Q.RECENT_SEARCHES)}},53084:(e,t,a)=>{a.d(t,{Y:()=>i});var n=a(91332),r=a(29534);const i=()=>(0,n.m)().getData(r.Q.RECENT_SEARCHES)||[]},20231:(e,t,a)=>{a.d(t,{s:()=>l}),a(33948);var n=a(61566),r=a(91332),i=a(29534);const l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.q;const a=(0,r.m)(),l=a.getData(i.Q.RECENT_SEARCHES)||[];if(!l.map((e=>e.displayText&&e.displayText.toLowerCase())).includes(e.displayText.toLowerCase())){const n=[...l.slice(0,t-1)];n.unshift(e),a.setItem(i.Q.RECENT_SEARCHES,n)}}},61566:(e,t,a)=>{a.d(t,{q:()=>n});const n=5},18495:(e,t,a)=>{a.d(t,{P:()=>R,l:()=>M}),a(33948),a(38559);var n=a(67294),r=a(16496),i=a(92173),l=a(4494),s=a(89186),o=a(19046),c=a(32968),d=a(18828),u=a(69779),m=a(91515),h=a(8666),p=a(63466),v=a(19999),E=a(78951),g=a(39992),y=a(51997),S=a(94984),T=a(11930),f=a(91332),C=a(29534),I=a(41941),_=a(81778),N=a(58339),b=a(17648),w=a(40689);const[M,k]=(0,I.k)({}),P={reason:b.Bi.GENERAL_SERVER_ERROR},R=e=>{var t;const{userWishlist:a,children:I}=e,[M,R]=(0,n.useState)(a),[A,D]=(0,n.useState)(null),[O,W]=(0,n.useState)(null),[x,L]=(0,n.useState)(null),Z=(0,n.useMemo)((()=>(0,l.L)(M)),[M]),H=(0,n.useMemo)((()=>Object.values(M).reduce(((e,t)=>{var a;return e+(null!==(a=t.length)&&void 0!==a?a:0)}),0)),[M]),F=Object.keys(M).length,G=e=>{e.reason===b.Bi.WISHLIST_NOT_FOUND&&(0,T.pq)(e.wishlistRef),D(null),W(null),L(e)},j=e=>{const t=Object.fromEntries(e.map((e=>{return[e.ref,(t=e.items,t.map((e=>({productCode:e.productCode,wishlistItemRef:e.ref}))))];var t})));R({...M,...t})},U=e=>{(0,f.m)().setItem(C.Q.RECENT_WISHLIST_REFERENCE,e),(0,f.m)().setItem(C.Q.RECENT_WISHLIST_TIMESTAMP,Date.now())},B=(e,t)=>{j([e]),t&&U(e.ref)},Q=e=>{var t;return null!==(t=Z[e])&&void 0!==t?t:[]},q=async(e,t,a)=>{let n;return n=(0,N.J)(a)||0===a.length?await(0,h.n)(e,t):await(0,p.y)(e,t,a),j([n.sourceWishlist,n.targetWishlist].filter(_.n)),U(n.targetWishlist.ref),n},V=async(e,t,a)=>{const n=await(0,d.C)(e),r=n.wishlistCollectionItems;return new Promise((i=>{const l={initialProductCode:t?e:void 0,wishlistDefaultDestination:n.destinationAndFlag&&{name:n.destinationAndFlag.destinationDisplayName,flag:n.destinationAndFlag.flag},onWishlistCreate:e=>{i({type:"NEW",ref:e.ref,name:e.name,wishlist:e}),W(null)},onRequestClose:()=>{i({type:"NOT_SELECTED"})}};if(r.length>0){var s;const t=()=>{W(l),D(null)},o=(e,t)=>{i({type:"EXISTING",ref:e,name:t}),D(null)},c=()=>{D(null),i({type:"NOT_SELECTED"})};D({wishlists:r,onWishlistSelect:o,onRequestClose:c,disableCreateWishlistCard:null!==(s=n.hasMaximumWishlists)&&void 0!==s&&s,productCode:e,onCreateWishlistCardClick:t,moveItemModal:a})}else W(l)}))},Y=null!==(t=Object.keys(M)[0])&&void 0!==t?t:null,{setToast:z}=(0,r.P)(),{behaviours:{wishlistBehaviours:{isLimitedVisitorWishlist:J}}}=(0,i.k)(),K=(e,t)=>{var a;const r=null===(a=e.items.find((e=>e.productCode===t)))||void 0===a?void 0:a.ref;z(n.createElement(g.V,{wishlist:{wishlistRef:e.ref,name:e.name},showMoveWishlistButton:!J,onMoveWishlistButtonClick:async()=>{const a=await V(t,!1);if("NOT_SELECTED"!==a.type&&(0,_.n)(r)){const{targetWishlist:n}=a.ref===e.ref?{targetWishlist:e}:await q(e.ref,a.ref,[r]);K(n,t)}},automation:s.i.ADD_TO_WISHLIST_TOAST}))},X=(e,t,a)=>(0,c.t)(e,t).then((e=>(B(e.wishlistSummary,!J),a&&((0,_.n)(t)?K(e.wishlistSummary,t):z(n.createElement(y.M,{wishlist:{wishlistRef:e.wishlistSummary.ref,name:e.wishlistSummary.name}}))),e))).catch((e=>{var t,a;const n=null!==(t=null==e||null===(a=e.response)||void 0===a?void 0:a.data)&&void 0!==t?t:P;return G(n),Promise.reject(n)})),$=async(e,t)=>{const a=await V(void 0,!1,!0);if("NOT_SELECTED"!==a.type){const r=M[e];let i;return a.ref!==e&&(i=await q(e,a.ref,t)),z(n.createElement(S.U,{wishlist:{wishlistRef:a.ref,name:a.name},itemCount:(null==t?void 0:t.length)||r.length})),i}},ee={getWishlistDataForProduct:Q,addItemToWishlist:(e,t,a)=>(0,o.y)(e,t).then((t=>(B(t.wishlistSummary,!J),a&&K(t.wishlistSummary,e),t.wishlistSummary))).catch((e=>{var t,a;const n=null!==(t=null==e||null===(a=e.response)||void 0===a?void 0:a.data)&&void 0!==t?t:P;return G(n),Promise.reject(n)})),removeItemFromWishlists:e=>(0,m.t)(e).then((e=>(e.wishlistSummaries.forEach((e=>B(e,!1))),e.wishlistSummaries.map((e=>e.ref))))).catch((e=>{var t,a;const n=null!==(t=null==e||null===(a=e.response)||void 0===a?void 0:a.data)&&void 0!==t?t:P;return G(n),Promise.reject(n)})),createWishlist:X,modifyWishlist:(e,t)=>(0,u.r)(e,t).then((e=>(B(e.wishlistSummary,!1),e))).catch((e=>{var t,a;const n=null!==(t=null==e||null===(a=e.response)||void 0===a?void 0:a.data)&&void 0!==t?t:P;return G(n),Promise.reject(n)})),getWishlistSize:e=>{const t=M[e];return(0,_.n)(t)?t.length:0},transferWishlistItems:q,selectUserWishlist:V,openCreateWishlistModal:e=>{W({wishlistDefaultDestination:e,onWishlistCreate:()=>W(null)})},wishlistItemCount:H,wishlistCount:F,defaultWishlistRef:Y,moveWishlistItem:e=>{const t=Q(e),{wishlistRef:a,wishlistItemRef:n}=t[0];return $(a,[n])},moveAllWishlistItems:e=>$(e,[]),wishlistProductCodeMap:M};return n.createElement(k.Provider,{value:ee},I,(0,_.n)(A)&&n.createElement(E.H,{...A}),(0,_.n)(O)&&n.createElement(v.O,{...O,createWishlist:X,onRequestClose:()=>{var e;W(null),null==O||null===(e=O.onRequestClose)||void 0===e||e.call(O)},isOpen:!0,automation:s.i.CREATE_WISHLIST_MODAL}),(0,_.n)(x)&&n.createElement(w.W,{wishlistError:x,onRequestClose:()=>L(null)}))}},3516:(e,t,a)=>{a.r(t),a.d(t,{PARTNER_LOGIN_MODAL_ID:()=>p,PartnerLoginModal:()=>h}),a(33948);var n=a(67294),r=a(83188),i=a(84333),l=a(44060),s=a(43052),o=a(30722),c=a(65085),d=a(92772),u=a(67984),m=a(64973);const h=e=>{let{email:t="",modalType:a=o.P.SIGN_IN_FORM,onRequestClose:h,...p}=e;const[v,E]=(0,n.useState)(t),[g,y]=(0,n.useState)(a),S="partner_login_modal",T={elementId:"partner_login_modal"},{doTracking:f,extendContext:C}=(0,l.n)(T),I=e=>{f({action:s.M.visible,elementId:e.toLowerCase()}),y(e)};return n.createElement(r.u,{...p,onRequestClose:h,displaySize:"md",track:T,onAfterClose:()=>y(a)},n.createElement("div",{className:m.Z.modal},g===o.P.SIGN_IN_FORM&&n.createElement(u.r,{email:v,onEmailChange:E,onModalTypeChange:I,onSignInSuccess:()=>(0,i.x)(h),track:C({elementId:"sign_in_form"}),automation:S}),g===o.P.RESET_PASSWORD_FORM&&n.createElement(c.M,{email:v,onEmailChange:E,onModalTypeChange:I,track:C({elementId:"reset_password_form"}),automation:S}),g===o.P.RESET_PASSWORD_SUCCESS&&n.createElement(d.w,{email:v,onModalTypeChange:I,track:C({elementId:"reset_password_success"})})))};h.displayName="PartnerLoginModal";const p="PARTNER_LOGIN_MODAL"},16699:(e,t,a)=>{a.d(t,{f:()=>i});const n=["clearIndicator","container","control","dropdownIndicator","group","groupHeading","indicatorsContainer","indicatorSeparator","input","loadingIndicator","loadingMessage","menu","menuList","menuPortal","multiValue","multiValueLabel","multiValueRemove","noOptionsMessage","option","placeholder","singleValue","valueContainer"],r=()=>{},i=new Proxy({},{get:(e,t)=>{if("string"==typeof t&&n.includes(t))return r}})},26678:(e,t,a)=>{a.d(t,{G:()=>f,i:()=>v}),a(33948);var n=a(67294),r=a(9669),i=a.n(r),l=a(13766),s=a(41349),o=a(55880),c=a(56836),d=a(43815),u=a(58976),m=a(91332),h=a(29534),p=a(41941);const[v,E]=(0,p.k)();let g;const y=u.j?new Promise((e=>{g=e})):Promise.resolve(null),S=(e,t)=>{const a={regulationTypeEvidonId:e,advertisingConsentGiven:t.advertisingConsentGiven,analyticsAndCustomisationConsentGiven:t.analyticsAndCustomisationConsentGiven};i().post(s.BJ.TRACKING_CONSENT,a).catch((e=>{console.error("Failed to ".concat(t.analyticsAndCustomisationConsentGiven?"enable":"disable"," personalization tracking: ").concat(e.message))}))},T=(e,t,a)=>{const n=(0,m.m)(),r=n.getData(h.Q.TRACKING_CONSENT);(null===r||e!==a.analyticsAndCustomisationConsentGiven||r.advertisingConsentGiven!==a.advertisingConsentGiven||r.analyticsAndCustomisationConsentGiven!==a.analyticsAndCustomisationConsentGiven)&&(n.setItem(h.Q.TRACKING_CONSENT,a),S(t,a))},f=e=>{const{children:t,evidonConfiguration:a,hasPersonalisedTracking:r}=e,{giveConsent:i}=(0,d.useGoogleTagManager)(),{giveConsent:s}=(0,c.useGoogleGlobalSiteTag)(),u=e=>{i&&i(e),s&&s(e)};(0,n.useEffect)((()=>{if(a&&a.isEnabled){const e=()=>{const e=window.evidon.notice.regulationId;S(e,{advertisingConsentGiven:!1,analyticsAndCustomisationConsentGiven:!1}),y.then((e=>{e&&e.getEvidonNoticeApi().then((e=>{e.dropSuppressionCookie&&e.dropSuppressionCookie(o.L.DROP_SUPPRESSION_DAYS)}))}))},t=e=>{const t=Object.keys(e).filter((t=>e[t]));u(t);const a={advertisingConsentGiven:e[l.E.ADVERTISING]||e[l.E.ALL]||!1,analyticsAndCustomisationConsentGiven:e[l.E.ANALYTICS_AND_CUSTOMISATION]||e[l.E.ALL]||!1};T(r,window.evidon.notice.regulationId,a)},n=new o.L(a.id,a.isTestMode,e,t);n.load(),n.getEvidonNoticeApi().then((e=>{if(!e.isGDPR()){u([l.E.ALL]);const e={advertisingConsentGiven:!0,analyticsAndCustomisationConsentGiven:!0},t=window.evidon.notice.regulationId;T(r,t,e)}})),g(n)}else g(null)}),[]);const m=()=>y.then((e=>{e&&e.showOptions()})),h=()=>y.then((e=>e?e.getEvidonNoticeApi():Promise.reject())),p=(0,n.useMemo)((()=>({showConsentOptions:m,getNoticeApi:h})),[]);return n.createElement(E.Provider,{value:p},t)}},22666:(e,t,a)=>{a.d(t,{Z:()=>_}),a(33948);var n=a(67294),r=a(86896),i=a(54755),l=a(28208),s=a(25586),o=a(97103),c=a(93063),d=a(96170),u=a(16218),m=a(53084),h=a(51336),p=a(44060),v=a(97332),E=a(99059),g=a(19374),y=a(36006),S=a(17648),T=a(15319),f=a(62719),C=a(90094),I=a(16977);const _=e=>{var t,a;const{track:_,automation:N,textInputValue:b,onTextInputChange:w,onOptionSelect:M,onNearbyLinkClick:k,loadOptions:P,lastSearchId:R}=e,{doTracking:A,extendContext:D}=(0,p.n)(_),O=(0,r.Z)(),[W,x]=(0,n.useState)(null),[L,Z]=(0,n.useState)(),H=(0,n.useMemo)((()=>new Map),[]),F=O.formatMessage(f.I.nearbyLabel),G=e=>e&&F===e,j=e=>{G(e)||(H.has(e)?Z(H.get(e)):P(e,(t=>{if(15===H.size){const e=Array.from(H.keys()).shift();H.delete(e)}H.set(e,t),Z(t)})),w&&w(e))};(0,n.useEffect)((()=>{(0,y.t)(b)&&j(b)}),[]),(0,n.useEffect)((()=>x((0,m.Y)())),[]);const U=(0,E.i)(W),B=(0,n.useRef)(null),Q=()=>{B&&B.current&&B.current.focus()};(0,n.useEffect)((()=>{B&&B.current&&Q()}),[]);const q=(0,n.useCallback)((()=>{(0,T.M0)(A,W),(0,h.j)(),x(null)}),[W]),V=e=>{M((0,C.Ul)(e,null))};return n.createElement(n.Fragment,null,n.createElement(o.Mj,{value:b,onSearch:V,onChange:j,onClear:Q,track:D({data:{pageProperties:{searchId:R,searchTerm:b,searchType:"FREETEXT"}}}),automation:N,placeholder:O.formatMessage(f.I.typeaheadPlaceholder),ref:B}),n.createElement("div",{className:I.Z.optionsWrapper,onTouchStart:()=>{var e;null===(e=document.activeElement)||void 0===e||e.blur()}},0===(null==b?void 0:b.length)&&!G(b)&&n.createElement("div",{className:I.Z.nearbyWrapper},n.createElement(i.P$,{className:I.Z.nearbyIcon}),n.createElement("button",{type:"button",className:I.Z.nearbyLink,onClick:k,...(0,c.Y)("nearby-experience-button")},n.createElement(v.W,{...f.I.nearbyLabel}))),0===(null==b?void 0:b.length)&&U&&n.createElement("div",{className:I.Z.recentSearchesContainer},n.createElement("div",{className:I.Z.recentSearchesHeader},n.createElement(l.D,{variant:l.v.title6,as:"h4",className:I.Z.recentSearchesTitle},n.createElement(v.W,{...f.I.recentSearchesTitle})),n.createElement(u.r,{onClick:()=>{(0,g.m)(q)},automation:(0,d.G)(N,"clearRecentSearches")},n.createElement(v.W,{...f.I.clearRecentSearchesLinkText}))),n.createElement("div",{className:I.Z.recentSearchesItems,...(0,c.Y)((0,d.G)(N,"recentSearches"))},W.map(((e,t)=>((e,t)=>n.createElement("div",{className:I.Z.option,key:"option_".concat(t)},n.createElement(s.E,{title:e.displayText,resultType:e.type,imageUrl:e.imageUrl,href:e.url,destinationName:e.destinationName,onClick:()=>{var t;t=(0,C.j9)(e),M(t)}})))(e,t))))),(null!==(t=null==b?void 0:b.length)&&void 0!==t?t:0)>0&&(0,E.i)(L)&&L.map(((e,t)=>((e,t)=>{const{value:{type:a,title:r,imageUrl:i,url:l,destinationName:o,price:c}}=e;return n.createElement("div",{className:I.Z.option,key:"search_result_option_".concat(t)},n.createElement(s.E,{title:r,resultType:a,imageUrl:i,href:l,destinationName:o,price:c,inputSearchText:b,onClick:()=>{M(e)}}))})(e,t))),(null!==(a=null==b?void 0:b.length)&&void 0!==a?a:0)>0&&n.createElement(s.E,{resultType:S.Q5.SEARCH,title:O.formatMessage(f.I.searchForStringOptionLabelV2,{0:b,b:e=>n.createElement("b",null,e)}),inputSearchText:b,onClick:()=>V(b||"")})))}},15319:(e,t,a)=>{a.d(t,{M0:()=>s,cS:()=>o,fl:()=>l,i:()=>i,nF:()=>r});var n=a(43052);const r=(e,t,a)=>e({action:n.M.search,elementId:"string_query_search",elementType:n.x.input,data:{productAttribute:t,pageProperties:{searchTerm:t,searchType:"FREETEXT",searchId:a||null,searchMethod:"MenuSearch"}}}),i=(e,t,a)=>{const{value:r}=t,{destinationId:i,searchTerm:l,type:s,indexWithinType:o,id:c}=r;return e({action:n.M.search,elementType:"typeahead_option_redirect",data:{destinationID:"".concat(i),pageProperties:{searchId:a,id:c,searchTerm:l,searchType:s,section:"typeahead",index:"".concat(o)}}})},l=e=>e({action:n.M.visible,elementId:"typeahead_search_results_menu",elementType:n.x.input}),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e({action:n.M.click,elementId:"previous_search_history_clear_btn",elementType:n.x.button,data:{productAttribute:null==t?void 0:t.map((e=>e.displayText)).join("|")}})},o=(e,t,a)=>{return t?t.isStringQuery?r(e,null===(i=t.value)||void 0===i?void 0:i.searchTerm,a):t.isDetailed?((e,t,a)=>{const{value:r}=t,{destinationId:i,searchTerm:l,type:s,indexWithinType:o,id:c}=r;return e({action:n.M.select,elementId:"typeahead_detailed_search_result",elementType:n.x.input,data:{destinationID:"".concat(i),pageProperties:{searchId:a,id:c,searchTerm:l,searchType:s,section:"typeahead",index:"".concat(o)}}})})(e,t,a):t.isNearby?(e=>e({action:n.M.select,elementId:"typeahead_nearby_search_result",elementType:n.x.input,data:{pageProperties:{searchType:"NEARBY"}}}))(e):t.isHistoric?((e,t,a)=>e({action:n.M.select,elementId:"typeahead_previous_search_history_result",data:{productAttribute:t,pageProperties:{searchType:"RECENT",searchTerm:t,searchId:a}}}))(e,null===(l=t.value)||void 0===l?void 0:l.searchTerm,null===(s=t.value)||void 0===s?void 0:s.searchId):Promise.resolve():Promise.resolve();var i,l,s}},62719:(e,t,a)=>{a.d(t,{I:()=>n});const n=(0,a(25387).vU)({nearbyLabel:{id:"orion.typeahead.nearby",defaultMessage:"Nearby"},recentSearchesTitle:{id:"orion.header.search.recentsearches",defaultMessage:"Recent Searches"},searchForStringOptionLabel:{id:"orion.typeahead.searchfor",defaultMessage:"Search for {0}"},fromPriceLabel:{id:"orion.typeahead.price.from",defaultMessage:"From {price}"},clearRecentSearchesLinkText:{id:"orion.header.search.clear",defaultMessage:"Clear"},typeaheadPlaceholder:{id:"orion.searchbar.placeholder",defaultMessage:"Search for a place or activity"},mobileSearchModalTitle:{id:"orion.searchbar.mobile.modal.title",defaultMessage:"Change your search"},searchButtonText:{id:"orion.search",defaultMessage:"Search"},mobileTypeaheadTitle:{id:"orion.place.or.activity",defaultMessage:"Place or activity"},searchForStringOptionLabelV2:{id:"orion.typeahead.see.all.results.for.bold",defaultMessage:'See all results for "<b>{0}</b>"'},searchBarHeading:{id:"orion.header.searchbar.heading.v4",defaultMessage:"One site, 300,000+ travel experiences you'll remember."},searchBarHeadingENPos:{id:"orion.homepage.search.header.EN.v3",defaultMessage:"Do more with Viator"},searchBarHeadingNonENPos:{id:"orion.homepage.search.header.nonEN.v3",defaultMessage:"Start Exploring"},searchBarTitle:{id:"orion.homepage.searchbar.title",defaultMessage:"Where to?"},dateInputTitle:{id:"orion.homepage.searchbar.datepicker.title",defaultMessage:"When"},datePickerPlaceholder:{id:"orion.select.dates",defaultMessage:"Select Dates"},skipButtonText:{id:"orion.datepicker.button.skip",defaultMessage:"Skip"},personalHello:{id:"orion.searchbar.hello",defaultMessage:"Hi {0}!"},genericWelcomeBack:{id:"orion.searchbar.generic.welcome.back",defaultMessage:"Welcome Back"},geoLocationAwaits:{id:"orion.searchbar.geo.location.is.waiting",defaultMessage:"{0} is waiting"}})},74646:(e,t,a)=>{a.d(t,{n:()=>O}),a(33948),a(17727);var n,r=a(67294),i=a(86896),l=a(76828),s=a(28208),o=a(70162),c=a(22699),d=a(98406),u=a(50081),m=a(50768),h=a(97103),p=a(56132),v=a(41349),E=a(96170),g=a(92173),y=a(32894),S=a(20231),T=a(44060),f=a(43052),C=a(97332),I=a(22666),_=a(15319),N=a(11086),b=a(85123),w=a(35316),M=a(50606),k=a(22349),P=a(36006),R=a(90543),A=a(62719),D=a(87254);!function(e){e.Initial="INITIAL",e.TextInput="TEXT-INPUT",e.DateInput="DATE-INPUT"}(n||(n={}));const O=e=>{const{isOpen:t=!1,onRequestClose:a,textInputValue:O,searchDefaultOption:W,onOptionSelect:x,track:L,loadOptions:Z,lastSearchId:H,automation:F}=e,[G,j]=(0,r.useState)(n.Initial),{searchDates:U,behaviours:{showDatePickerInSearchInput:B}}=(0,g.k)(),[Q,q]=(0,r.useState)({from:U?U.from:null,to:U?U.to:null}),[V,Y]=(0,r.useState)(Q),[z,J]=(0,r.useState)(O||""),[K,X]=(0,r.useState)(),[$,ee]=(0,r.useState)(!1),te=(0,r.useRef)(null),{doTracking:ae}=(0,T.n)(L),ne=e=>{a&&a(e),J(""),q(U),Y(U)},re=new Date,ie=(0,i.Z)(),le=(0,r.useCallback)((()=>{(0,R.S)(ae,U,Q,H,z).finally((()=>(0,y.S)(Q).finally((()=>{K&&!K.isStringQuery?(0,b.q)(ae,K):((0,S.s)({displayText:z}),(0,_.nF)(ae,z,H).finally((()=>{window.location.href=(0,v.xq)(z)})))}))))}),[ae,K,H,z]),{maxSelectableDate:se}=(0,g.k)(),oe={before:re,after:(0,w.D)((0,k.j)(se))};return r.createElement(o.e,{closeOnEsc:!0,displayVariant:"fixedTop",isOpen:t,onRequestClose:ne,onAfterOpen:()=>{O&&J(O),G===n.Initial&&X(W)}},r.createElement("div",{className:D.Z.closeButtonContainer},r.createElement(c.o,{onClick:e=>{let t="modal";G===n.Initial?ne(e):(j(n.Initial),t=G===n.DateInput?"datepicker":"typeahead"),G===n.DateInput&&Y(Q),ae({action:f.M.click,elementId:"".concat(t,"_close_button")})}})),G===n.Initial&&r.createElement("div",{className:D.Z.modalContent},r.createElement("div",{className:D.Z.modalTitle},r.createElement(s.D,{variant:s.v.title6,as:"h6"},r.createElement(C.W,{...A.I.mobileSearchModalTitle}))),r.createElement(h.Mj,{onClick:()=>{j(n.TextInput),ee(!1),ae({action:f.M.visible,elementId:"typeahead_search_results_menu",elementType:f.x.input})},hasError:$,value:W&&W.destinationName||z&&z,placeholder:ie.formatMessage(A.I.typeaheadPlaceholder),displayVariant:p.s.readOnly}),B&&r.createElement(r.Fragment,null,r.createElement("div",{role:"button","data-automation":"date-picker-open-button",tabIndex:0,className:D.Z.inputWrapper,onClick:()=>{j(n.DateInput)}},r.createElement(l.a,null),r.createElement("div",{className:D.Z.inputText},Q.from&&r.createElement("span",null,(0,M.j)(Q.from,Q.to,ie)),!Q.from&&r.createElement("span",{className:D.Z.placeholder},r.createElement(C.W,{...A.I.datePickerPlaceholder}))))),r.createElement("div",{className:D.Z.searchButton},r.createElement(d.zx,{automation:"mobile-search-button",displayVariant:d.JT.fill,width:d.WL.fill,onClick:()=>{(0,P.t)(z)?(ee(!1),le()):(ee(!0),te.current&&te.current.focus())}},r.createElement(C.W,{...A.I.searchButtonText})))),G===n.TextInput&&r.createElement("div",{className:D.Z.overlay},r.createElement("div",{className:D.Z.modalTitle},r.createElement(s.D,{variant:s.v.title6,as:"h6"},r.createElement(C.W,{...A.I.mobileTypeaheadTitle}))),r.createElement(I.Z,{loadOptions:Z,textInputValue:z,onOptionSelect:e=>{if(x&&x(e),!e)return X(null),void J("");X(e);const t=e.label?e.label.toString():"",a=e.isStringQuery?e.value.searchTerm:t;J(a),j(n.Initial)},track:L,onTextInputChange:e=>{J(e)},onNearbyLinkClick:()=>{(0,N.j8)().then((e=>{ae({action:f.M.click,elementId:"nearby_link",elementType:f.x.link});const t=ie.formatMessage(A.I.nearbyLabel);J(t),X({isNearby:!0,label:t,value:{searchTerm:t,url:e}}),j(n.Initial)}))},lastSearchId:H,automation:F})),G===n.DateInput&&r.createElement("div",{className:D.Z.overlay},r.createElement("div",{className:D.Z.modalTitle},r.createElement(s.D,{variant:s.v.title6,as:"h6"},r.createElement(C.W,{...A.I.datePickerPlaceholder}))),r.createElement(m.D,{track:L,fromMonth:re,automation:(0,E.G)("mobile-date-picker","calendar"),value:V,onDateSelect:(e,t)=>{var a,n;t[u.Z.disabled]||e&&(a=e,n=t,(0,R.Bs)(ae,a,n),Y(a))},disabledDates:{...oe},onPreviousMonthClick:()=>{(0,R.wA)(ae)},onNextMonthClick:()=>{(0,R.QH)(ae)},onApply:e=>{(0,R.q$)(ae,e),Y(e),q(e),(e=>{let t="modal";G===n.Initial?a&&a(null):(j(n.Initial),t=G===n.DateInput?"datepicker":"typeahead"),ae({action:f.M.click,elementId:"".concat(t,"_close_button")})})()},onReset:()=>{(0,R.R7)(ae),Y({from:null,to:null})}})))}},90094:(e,t,a)=>{a.d(t,{AQ:()=>i,Fb:()=>s,Ul:()=>l,j9:()=>r});var n=a(62719);const r=e=>({label:e.displayText,value:{searchTerm:e.displayText,searchId:e.searchId,url:e.url},isHistoric:!0}),i=e=>({label:e.formatMessage(n.I.nearbyLabel),value:{searchTerm:e.formatMessage(n.I.nearbyLabel)},isNearby:!0}),l=(e,t)=>({label:t,value:{searchTerm:e},isStringQuery:!0}),s=(e,t,a)=>({label:e.title,value:{searchTerm:e.searchTerm,destinationId:e.destinationId,id:e.id,url:e.url,title:e.title,type:e.type,indexWithinType:e.indexWithinType,imageUrl:e.imageUrl,price:e.price,destinationName:e.destinationName},index:a,isDetailed:!0})},7808:(e,t,a)=>{a.d(t,{C:()=>p}),a(33948),a(73210);var n=a(67294),r=a(41349),i=a(20231),l=a(44060),s=a(43052),o=a(15319),c=a(88377),d=a(55590),u=a(81778),m=a(50515),h=a(17648);const p=e=>{const{onChange:t,track:a,trackFirstVisibility:p,destinationId:v,onOptionsRequested:E,onOptionsResolved:g}=e,{doTracking:y,data:S,extendContext:T}=(0,l.n)(a,p),[f,C]=(0,n.useState)(null),I=e=>{const t=(0,m.F)((e||"").trim());return(0,c.O)(t,S.servletName||"",v)},[_,N]=(0,n.useState)(),b=(0,n.useRef)(),w=()=>{b.current&&b.current.abort()},M=(0,n.useCallback)(((e,t)=>{if(!e)return N([]),Promise.resolve({options:[]});E&&E();const a=I(e);return w(),b.current=a.abortController,a.response.then((a=>{if(null===a)return;const{options:n,searchId:r}=a;g&&g(r),C(r),N(n),t&&t(n),y({action:s.M.visible,elementId:"experience_typeahead_option",data:{pageProperties:{numberOfOptions:"".concat(n.length),searchTerm:e}}})}),(()=>null))}),[E,g,b,S]),k=(0,n.useCallback)((e=>{if(null===e&&M("",(()=>{})),e){(0,o.cS)(y,e,null!=f?f:void 0);const{value:t,isDetailed:a,isStringQuery:n,isHistoric:l}=e;if(a||n){const a=(0,u.n)(t.url)&&""!==t.url?t.url:(0,r.xq)(t.searchTerm),n=(0,u.n)(t.type)&&t.type!==h.Q5.UNKNOWN?t.type:h.Q5.SEARCH,l=e.label?e.label.toString():t.searchTerm;I(l).response.then((e=>{if(null===e)return;const{options:t,searchId:a}=e;C(a),g&&g(a),N(t)})),(0,i.s)({displayText:t.title||t.searchTerm,url:a,imageUrl:t.imageUrl||void 0,destinationName:t.destinationName||void 0,type:n,searchId:f||void 0})}l&&g&&e.value.searchId&&g(e.value.searchId)}if(t){var a;if(null!=e&&e.isStringQuery)return void t({...e,label:null===(a=e.value)||void 0===a?void 0:a.searchTerm});t(e||null)}}),[t,f]);return{loadOptions:(0,n.useMemo)((()=>(0,d.P)(M,50,!0)),[M]),abortPendingRequest:w,handleChange:k,doTracking:y,extendContext:T,lastSearchId:f,currentQueryOptions:_,setCurrentQueryOptions:N,setDefaultQueryOptions:e=>{I(e).response.then((e=>{if(null===e)return;const{options:t,searchId:a}=e;C(a),g&&g(a),N(t)}))}}}},91800:(e,t,a)=>{a.d(t,{k:()=>o});var n=a(67294),r=a(94184),i=a.n(r),l=a(59315),s=a(34979);const o=e=>{let{innerProps:t}=e;return n.createElement("div",{...t,className:i()(s.Z.clearIcon)},n.createElement(l.E,null))}},36701:(e,t,a)=>{a.d(t,{o:()=>u});var n=a(67294),r=a(71233),i=a(94184),l=a.n(i),s=a(75072),o=a(93063),c=a(36529),d=a(49188);const u=e=>{let{hasError:t,hasSearchIcon:a=!0,displaySize:i="md",className:u,children:m,automation:h,innerProps:p,...v}=e;const E=d.Z[i],g=l()(u,c.Z.control,c.Z.controlStyle,d.Z.control,{[d.Z.hasError]:t});return n.createElement(r.c.Control,{...v,innerProps:{...p,...(0,o.Y)(h)},className:g},a&&n.createElement("div",{className:l()(c.Z.searchIcon,E)},n.createElement(s.e,null)),m)}},30776:(e,t,a)=>{a.d(t,{I:()=>s});var n=a(67294),r=a(71233),i=a(93063),l=a(25682);const s=e=>{const{automation:t}=e;return n.createElement(r.c.Input,{...e,className:l.Z.inputControl,...(0,i.Y)(t)})}},92502:(e,t,a)=>{a.d(t,{v:()=>S});var n=a(67294),r=a(86896),i=a(94184),l=a.n(i),s=a(25586),o=a(77467),c=a(18485),d=a(16218),u=a(22077),m=a(67470),h=a(97332),p=a(62719),v=a(90094),E=a(72410),g=a(19374),y=a(36529);const S=e=>{const{children:t,setValue:a,options:i,history:S,onClearHistory:T,menuWidth:f}=e,{deviceViewport:C}=(0,u.S)(),I=(0,r.Z)(),_=!i.length,N=S&&S.length>0,b=(0,m.x)(C);if(_)return b||N?n.createElement(o.v,{...e,className:l()(y.Z.menu,{[y.Z.menuWithCustomWidth]:void 0!==f})},n.createElement(n.Fragment,null,n.createElement("div",{className:y.Z.focusMenu,style:f?{width:"".concat(f,"px")}:void 0},b&&n.createElement("div",{className:y.Z.nearbySearch},n.createElement("div",{className:y.Z.resultIconContainer},n.createElement(E.N,{className:y.Z.nearbySearchIcon})),n.createElement(c.k,{className:y.Z.nearbySearchLink,onClick:()=>a((0,v.AQ)(I),"set-value")},n.createElement(h.W,{...p.I.nearbyLabel}))),N&&n.createElement("div",{className:y.Z.recentSearchesWrapper},n.createElement("div",{className:y.Z.recentSearchesHeader},n.createElement("div",{className:y.Z.recentSearchesTitle},n.createElement("strong",null,n.createElement(h.W,{...p.I.recentSearchesTitle}))),n.createElement(d.r,{onClick:()=>{(0,g.m)(T)}},n.createElement(h.W,{...p.I.clearRecentSearchesLinkText}))),null==S?void 0:S.map(((e,t)=>n.createElement("div",{className:y.Z.option,key:"option_".concat(t)},n.createElement(s.E,{title:e.displayText,resultType:e.type,imageUrl:e.imageUrl,href:e.url,destinationName:e.destinationName,onClick:()=>{a((0,v.j9)(e),"set-value")}})))))))):null;const w=l()(y.Z.menu,y.Z.searchResultsMenu,{[y.Z.menuWithCustomWidth]:void 0!==f});return n.createElement(o.v,{...e,className:w},n.createElement("div",{style:f?{width:"".concat(f,"px")}:void 0},t))}},56207:(e,t,a)=>{a.d(t,{W:()=>c});var n=a(67294),r=a(94184),i=a.n(r),l=a(25586),s=a(73534),o=a(36529);const c=e=>{const{children:t,data:a,label:r,className:c,isFocused:d,isSelected:u,selectProps:m}=e,h=(0,n.useMemo)((()=>a&&a.value&&!a.value.isStringQuery?n.createElement(l.E,{imageUrl:a.value.imageUrl,imageAlt:r,title:r,destinationName:a.value.destinationName,price:a.value.price,href:a.value.url,resultType:a.value.type,isFocused:d,inputSearchText:null==m?void 0:m.inputValue}):t),[a,t,d]),p=i()(c,o.Z.option,{[o.Z.searchForOption]:e.data&&!0===e.data.isStringQuery||!a.value.type,[o.Z.optionFocused]:d,[o.Z.optionSelected]:u});return n.createElement(s.W,{...e,className:p},h)}},37139:(e,t,a)=>{a.d(t,{V:()=>l});var n=a(67294),r=a(71233),i=a(37541);const l=e=>{const{children:t}=e;return n.createElement(r.c.Placeholder,{className:i.Z.placeholder,...e},t)}},68844:(e,t,a)=>{a.d(t,{P:()=>o});var n=a(67294),r=a(71233),i=a(97332),l=a(62719),s=a(37541);const o=e=>n.createElement(r.c.SingleValue,{className:s.Z.placeholder,...e},n.createElement(i.W,{...l.I.typeaheadPlaceholder}))},66034:(e,t,a)=>{a.d(t,{K:()=>l});var n=a(67294),r=a(71233),i=a(49188);const l=e=>n.createElement(r.c.ValueContainer,{...e,className:i.Z.valueContainer})},72410:(e,t,a)=>{a.d(t,{N:()=>i});var n=a(67294),r=a(33115);const i=e=>n.createElement(r.Z,{className:e.className})},88377:(e,t,a)=>{a.d(t,{O:()=>s}),a(33948);var n=a(9669),r=a.n(n),i=a(41349),l=a(90094);const s=(e,t,a)=>{const n=encodeURIComponent(e),s="".concat(i.BJ.FETCH_TYPEAHEAD_SEARCH_RESULTS,"?text=").concat(n,"&callingServlet=").concat(t),o=new AbortController;return{response:r().get("".concat(s).concat(a?"&destId=".concat(a):""),{signal:o.signal}).catch((e=>{if("canceled"!==e.message)throw e})).then((e=>{const{data:t}=e,a=[];return null!=t&&t.results&&a.push(...t.results.map(((e,a)=>(0,l.Fb)(e,t.searchId,a)))),{options:a,searchId:t.searchId}}),(()=>null)),abortController:o}}},11086:(e,t,a)=>{a.d(t,{j8:()=>s});var n=a(9669),r=a.n(n),i=a(41349),l=a(5952);const s=()=>(0,l.w)().then((e=>(e=>{if(e&&e.coords){const t={latitude:e.coords.latitude,longitude:e.coords.longitude};return r().post(i.BJ.NEARBY_SEARCH,t).then((e=>e.data.url?e.data.url:Promise.reject()))}return Promise.reject()})(e)))},85123:(e,t,a)=>{a.d(t,{q:()=>l});var n=a(41349),r=a(15319),i=a(11086);const l=(e,t)=>((0,r.i)(e,t),(e=>{if(e){const{value:t}=e,{url:a}=t||{};return e.isDetailed&&a?Promise.resolve(a):e.isStringQuery&&t.searchTerm?Promise.resolve((0,n.xq)(t.searchTerm)):e.isHistoric?a?Promise.resolve(a):Promise.resolve((0,n.xq)(t.searchTerm)):e.isNearby?new Promise(((e,t)=>{(0,i.j8)().then((t=>e(t))).catch((()=>t()))})):Promise.reject()}return Promise.reject()})(t).then((e=>{window.location.href=e})))},5952:(e,t,a)=>{a.d(t,{w:()=>n});const n=()=>new Promise(((e,t)=>{window&&window.navigator&&window.navigator.geolocation?window.navigator.geolocation.getCurrentPosition((t=>e(t)),(()=>e(null))):t()}))},99059:(e,t,a)=>{a.d(t,{i:()=>n});const n=e=>Array.isArray(e)&&e.length>0},24505:(e,t,a)=>{a.d(t,{T:()=>n});const n=()=>null},50606:(e,t,a)=>{a.d(t,{U:()=>s,j:()=>l});var n=a(63738),r=a(58339);const i={month:"short",day:"numeric"},l=(e,t,a)=>t||e?t&&e&&!n.DateUtils.isSameDay(e,t)?n.DateUtils.isSameMonth(e,t)?"".concat(a.formatDate(e,i)," - ").concat(t.getDate()):"".concat(a.formatDate(e,i)," - ").concat(a.formatDate(t,i)):a.formatDate(e||t,i):"",s=(e,t)=>{var a,n,i,l;return!(0,r.J)(e)&&!(0,r.J)(t)&&(null===(a=e.from)||void 0===a?void 0:a.getTime())===(null===(n=t.from)||void 0===n?void 0:n.getTime())&&(null===(i=e.to)||void 0===i?void 0:i.getTime())===(null===(l=t.to)||void 0===l?void 0:l.getTime())}},61456:(e,t,a)=>{a.d(t,{J:()=>r});var n=a(63059);const r=e=>{if(!e||!(0,n.q)(e))return null;const t=String(e.getFullYear()),a=String(e.getMonth()+1),r=String(e.getDate()),i=a.length<2?"0":"",l=r.length<2?"0":"";return"".concat(t,"-").concat(i).concat(a,"-").concat(l).concat(r)}},22349:(e,t,a)=>{a.d(t,{j:()=>i}),a(33948);var n=a(35452),r=a(76458);const i=e=>{if(!(0,r.H)(e))return null;const[t]=e.split("T");return(0,n.Q)(t)?t:null}},72024:(e,t,a)=>{a.d(t,{$:()=>i});var n=a(67294),r=a(72679);const i=e=>{let{src:t,alt:a="",srcset:i,sizes:l,className:s,placeholder:o,width:c,height:d,threshold:u=150,...m}=e;return t||i?n.createElement(r.LazyLoadImage,{...m,threshold:u,width:c,height:d,alt:a,sizes:l,className:s,src:t,srcSet:i,placeholder:o||n.createElement("img",{alt:a,width:c||1,height:d||1})}):n.createElement(n.Fragment,null,o)}},78038:(e,t,a)=>{a.d(t,{X:()=>s,_:()=>o});var n=a(68924);const r=(()=>{var e;const t=(0,n.getDefaultWhiteList)();return null===(e=t.a)||void 0===e||e.push("rel"),t})(),i=new n.FilterXSS({whiteList:r}),l=new n.FilterXSS({whiteList:{}}),s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return i.process(e)},o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l.process(e)}},50515:(e,t,a)=>{a.d(t,{F:()=>n}),a(15306);const n=e=>e.replace(/[<>'"!$^*%\\|;()+`{}[\]]/gi,"")},4856:(e,t,a)=>{a.d(t,{E:()=>i});var n=a(67294),r=a(19374);const i=(e,t)=>{(0,n.useEffect)((()=>{const a=setTimeout((()=>{(0,r.m)(e)}),t);return()=>clearTimeout(a)}),[])}},48842:(e,t,a)=>{a.d(t,{U:()=>n});const n=e=>["string","number"].includes(typeof e)},16977:(e,t,a)=>{a.d(t,{Z:()=>n});const n={link:"link__25Jq",nearbyLink:"nearbyLink__3McD",recentSearchesContainer:"recentSearchesContainer__-YCh",recentSearchesHeader:"recentSearchesHeader__3hut",recentSearchesTitle:"recentSearchesTitle__2HGB",recentSearchesItems:"recentSearchesItems__luEp",nearbyWrapper:"nearbyWrapper__2AhH",nearbyIcon:"nearbyIcon__gu8K",optionsWrapper:"optionsWrapper__19r1"}},87254:(e,t,a)=>{a.d(t,{Z:()=>n});const n={overlay:"overlay__2ico",modalContent:"modalContent__3Qb5",closeButtonContainer:"closeButtonContainer__3Cwz",modalTitle:"modalTitle__2Vfu",inputWrapper:"inputWrapper__2Q-w",error:"error__20K0",inputText:"inputText__2_yK",placeholder:"placeholder__2iEg",searchButton:"searchButton__4Ory"}},34979:(e,t,a)=>{a.d(t,{Z:()=>n});const n={clearIcon:"clearIcon__1duU"}},25682:(e,t,a)=>{a.d(t,{Z:()=>n});const n={inputControl:"inputControl__2B-O"}},37541:(e,t,a)=>{a.d(t,{Z:()=>n});const n={placeholder:"placeholder__RF_q"}}}]);