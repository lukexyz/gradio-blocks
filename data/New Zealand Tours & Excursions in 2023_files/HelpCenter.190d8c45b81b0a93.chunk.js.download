"use strict";(("undefined"!=typeof window?window:this).__LOADABLE_LOADED_CHUNKS__=("undefined"!=typeof window?window:this).__LOADABLE_LOADED_CHUNKS__||[]).push([[8019,9699],{41339:(e,t,n)=>{n.r(t),n.d(t,{HelpCenter:()=>i});var o=n(67294),s=n(93063),r=n(45291),a=n(30398);const i=e=>{let{isVisibleByDefault:t=!1}=e;const{ongoingChatSession:n,destroyOngoingChat:i,unreadMessagesCount:l,initialize:c,showHelpCenterFromUrl:h}=(0,a.useHelpCenter)(),d=o.useRef(null);return(0,o.useEffect)((()=>(async function(){!await h()&&(n||l>0)&&c()}(),()=>{if(i){const{current:e=null}=d||{};e&&(0,r.m)(e.__destroy)&&e.__destroy()}})),[n,l,i]),o.createElement(o.Fragment,null,o.createElement("hc-track",null),o.createElement("hc-chat",{style:{display:"none"},ref:d}),o.createElement("hc-help-shell",{"is-visible-by-default":"".concat(t),"hide-launcher":"true",...(0,s.Y)("help-center-shell")}))}},30398:(e,t,n)=>{n.r(t),n.d(t,{HelpCenterProvider:()=>E,useHelpCenter:()=>h}),n(33948),n(38862);var o=n(67294),s=n(41349),r=n(49932),a=n(29534),i=n(41941),l=n(75268),c=n(82088);const[h,d]=(0,i.k)({isChatAgentAvailable:!1,initialize:()=>Promise.resolve(),showHelpCenterFromUrl:()=>Promise.resolve(),showHelpCenterShell:()=>Promise.resolve(),showHelpCenterChat:()=>Promise.resolve(),showHelpCenterFaq:()=>Promise.resolve(),trackEvent:()=>Promise.resolve(),unreadMessagesCount:0,ongoingChatSession:!1,destroyOngoingChat:!1}),u=()=>{const e=(()=>{const e=(new l.Z).getData(a.Q.HELP_CENTER_CHAT_STATE);if(!e)return{};try{return JSON.parse(e,((e,t)=>"string"==typeof t?JSON.parse(t):t))}catch(e){return console.error("Error getting the chat state: ",e),{}}})(),{behavior:{sessionId:t=null}={}}=e;return!!t},C=()=>{const e=(new l.Z).getData(a.Q.HELP_CENTER_SHELL_STATE);if(!e)return{};try{return JSON.parse(e)}catch(e){return console.error("Error getting the shell state: ",e),{}}},p=()=>{if(u()){const{unreadNotificationsTotal:e=0}=C();return e}return 0},m=e=>{window.dispatchEvent(new CustomEvent("TRACKING_TRACK_EVENT",{bubbles:!0,cancelable:!1,composed:!0,detail:e}))},w=(e,t,n,o,s)=>(o(!0),n(!0),t(!1),((e,t)=>(window.dispatchEvent(new CustomEvent("HC_WIDGET_ACTIVATE_REQUEST",{bubbles:!0,cancelable:!1,composed:!0,detail:{payload:{...t},target:e}})),Promise.resolve("Help center activated for module ".concat(e))))(e,s)),g=e=>window.helpCenterReady?Promise.resolve():new Promise((t=>{(e=>window.helpCenterScriptLoaded?Promise.resolve():new Promise((t=>{const{configuration:n,nonce:o}=e,{host:s}=n,r=document.createElement("script");r.src="".concat(s.baryonHostBaseUrl,"/mfr/").concat(s.hostApp,".js"),r.setAttribute("nonce",o),r.async=!0,r.defer=!0,document.body.appendChild(r),r.addEventListener("load",(()=>{window.helpCenterScriptLoaded=!0,t("Remote script loaded")}))})))(e).then((()=>{(e=>window.helpCenterAssembled?Promise.resolve():new Promise(((t,n)=>{try{const{csrf:n}=e,o=(e=>{const{csrf:t,nonce:n,requestDetails:o,session:r,servletName:a}=e,i=e.configuration,{chat:l,elevio:h,host:d}=i,{account:u}=r,C=("product_detail"===a||"things_to_do"===a)&&!l.isSalesChatSupported;return window.helpCenterAuth=()=>{(0,c.$J)(s.y$.HOMEPAGE)},{authHooks:{onLoginRequest:()=>window.helpCenterAuth()},hcServletName:a,bypassToken:i.isToBypassToken,isTap:i.isTap,hcShoppingCartContextJson:i.shoppingCartContextJson,hcTAPersistentCookie:r.tapersistentCookie,hcMCID:r.mcid,isUserAuthenticated:r.isUserAuthenticated,locale:r.languageCode,nonce:n,hcHostSecurityTokenName:t.headerName,hcHostSecurityTokenValue:t.token,hcChatInitialChatChannel:l.chatInitialChatChannel,hcChatInitialContactPoint:l.chatInitialContactPoint,hcChatIssueTokenUrl:l.chatIssueTokenUrl,hcPreChatFormEnabled:l.isPreChatFormEnabled,hostApp:d.hostApp,hcIpAddress:d.ipAddress,hcLocation:d.location,theme:d.hostApp,elevioCompanyId:h.elevioCompanyId,faqClient:h.faqClient,elevioSupportedLocales:h.elevioSupportedLocales,hcPUID:o.puid,hcUUID:o.uuid,hcSessionId:o.sessionId,hcLandingPage:o.landingPage,hcLandingPageReferrer:o.landingPageReferrer,hcVisitorId:o.visitorId,hcIsFullLogin:u&&u.isFullLogin,hcIsPartialLogin:u&&u.isPartialLogin,hcItineraryId:u&&u.itineraryId,hcAccountId:u&&u.accountId,user:{email:u&&u.emailAddress,firstName:u&&u.firstName,lastName:u&&u.lastName,phoneNumberFull:u&&u.phoneNumberFull,username:u&&u.username},...C&&{isChatCreatable:!1}}})(e);window.MicrofrontendsAssemblyService.assemble(o,[{resources:{dynamic:{headers:()=>({"X-XSRF-TOKEN":n.token})}},selector:"hc-mmb-lite"}]),window.helpCenterAssembled=!0,t("Help center assembled")}catch(e){console.error("Help center assemble error: ",e),window.helpCenterAssembled=!1,n(e)}})))(e).then((()=>window.addEventListener("HC_WIDGET_READY",(()=>{window.helpCenterReady=!0,t("Help center is ready.")}))))}))})),E=e=>{const{children:t}=e,[n,s]=(0,o.useState)(0),[i,c]=(0,o.useState)(!1),[h,E]=(0,o.useState)(!1),[v,A]=(0,o.useState)(!1),[f,S]=(0,o.useState)(!1);(0,o.useEffect)((()=>{if(window.helpCenterScriptLoaded=!1,window.helpCenterAssembled=!1,window.helpCenterReady=!1,s(p),c(u),e.configuration){const{configuration:{host:t},session:{locale:n}}=e;(0,r.u)(n,t.baryonHostBaseUrl).then((e=>{!0===e&&A(!0)}))}window.addEventListener("HC_WIDGET_UPDATE_UNREAD_NOTIFICATIONS_COUNT",(e=>{const{unreadNotificationsCount:t,from:n}=e.detail,o=C(),r=o.unreadNotificationsTotal;var i;void 0!==t&&void 0!==r&&(f||(o.unreadNotificationsTotal+=t,o.unreadNotificationsCounts[n]=(o.unreadNotificationsCounts[n]||0)+t,i=o,(new l.Z).setData(a.Q.HELP_CENTER_SHELL_STATE,JSON.stringify(i))),s(r+t))}))}),[]);const _=()=>g(e),y=()=>{var t;const n=null===(t=e.configuration)||void 0===t?void 0:t.urlData;return n?g(e).then((()=>w(n.module,c,E,S,n.payloadParams))).then((()=>void 0!==n)):Promise.resolve(void 0!==n)},T=t=>g(e).then((()=>w("hc-help-shell",c,E,S,t))),I=t=>g(e).then((()=>w("hc-chat",c,E,S,t))),H=t=>g(e).then((()=>w("hc-faq",c,E,S,t))),P=(0,o.useMemo)((()=>({isChatAgentAvailable:v,initialize:_,showHelpCenterFromUrl:y,showHelpCenterShell:T,showHelpCenterChat:I,showHelpCenterFaq:H,trackEvent:m,unreadMessagesCount:n,ongoingChatSession:i,destroyOngoingChat:h})),[v,n,i,h]);return o.createElement(d.Provider,{value:P},t)}},49932:(e,t,n)=>{n.d(t,{u:()=>a});var o=n(9669),s=n.n(o),r=n(41349);const a=(e,t)=>{const n=e?"?locale=".concat(e):"",o="".concat(t).concat(r.BJ.SALES_AGENT_AVAILABILITY_CHECK).concat(n);return s().get(o,{withCredentials:!0}).then((e=>!0===e.data),(()=>!1))}},75268:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(4942),s=n(58339);class r{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,o.Z)(this,"storage",void 0);try{this.storage=e||window&&window.localStorage}catch(e){}}getData(e){return this.hasStorage()&&this.storage.getItem(e)||null}setData(e,t){if(this.hasStorage())try{t&&this.storage.setItem(e,t)}catch(e){}}hasStorage(){return!(0,s.J)(this.storage)}}}}]);